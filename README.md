# maoyan-charts

分工：

## 爬取猫眼电影

说明书

目标：https://maoyan.com/films?showType=3&offset=0


## 生成图表 && 词云

属性：
电影名、类别、区域、年份，口碑分、票房、电影时长

选择每一类，展示不同图表

tab -> tabitem[类别、年份计数、区域计数，口碑分、票房、电影时长]

->tabcontent['xxx', 'xx']


    

- python生成excel图表

    - http://mrdoc.zmister.com/project-18/
    - https://xlsxwriter.readthedocs.io/

- 生成词云

    - https://github.com/fuqiuai/wordCloud

- 在微信小程序中生成图标

    - 

## 接口文档

### 一、折线图

https://v-charts.js.org/#/line

1. 按年：数量、平均分、票房
1. 按月：数量、平均分、票房

年：最高前5年+其它

```js
data = [
  {"年份": 2020, "数量": 526, "平均分": 6.5, "票房": 666},
  {"年份": 2020, "数量": 526, "平均分": 6.5, "票房": 666},
  {"年份": 2020, "数量": 526, "平均分": 6.5, "票房": 666},
  {"年份": "其它", "数量": 2526, "平均分": 6.5, "票房": 666}
]
data = [
  {"月份": 1, "数量": 526, "平均分": 6.5, "票房": 666},
  {"月份": 2, "数量": 526, "平均分": 6.5, "票房": 666},
  {"月份": 8, "数量": 526, "平均分": 6.5, "票房": 666},
  {"月份": 11, "数量": 526, "平均分": 6.5, "票房": 666}
]
```

### 二、饼图

https://v-charts.js.org/#/pie

1. 票房前5的国家 + 其它
2. 票房前5的年份 + 其它
3. 票房前5的类型 + 其它

```js
data = [
  {"国家": "xxx", "票房": 56534},
  {"国家": "xxx", "票房": 56534},
  {"国家": "其它", "票房": 56534}
]
data = [
  {"年份": "xxx", "票房": 56534},
  {"年份": "xxx", "票房": 56534},
  {"年份": "其它", "票房": 56534}
]
data = [
  {"类型": "xxx", "票房": 56534},
  {"类型": "xxx", "票房": 56534},
  {"类型": "其它", "票房": 56534}
]
```
## 三、条形图

https://v-charts.js.org/#/bar


前5+其它

按类别分：国内+国外 的 票房

按年份分：国内+国外 的 口碑均分

```js
data = [
    {"类别": "xx", "国内": 12467, "国外": 5438},
    {"类别": "xx", "国内": 12467, "国外": 5438},
    {"类别": "xx", "国内": 12467, "国外": 5438}
]
data = [
    {"年份": "xx", "国内": 12467, "国外": 5438},
    {"年份": "xx", "国内": 12467, "国外": 5438},
    {"年份": "xx", "国内": 12467, "国外": 5438}
]
```

### 四、雷达图

https://v-charts.js.org/#/radar

前5条 + 其它

1. 类型+平均分+总票房
2. 地区+平均分+总票房

```js
data = [
  {"类型": "爱情", "平均分": 8.6, "总票房": 6666},
  {"类型": "爱情", "平均分": 8.6, "总票房": 6666},
  {"类型": "其它", "平均分": 8.6, "总票房": 6666}
]

data = [
  {"地区": "爱情", "平均分": 8.6, "总票房": 6666},
  {"地区": "爱情", "平均分": 8.6, "总票房": 6666},
  {"地区": "其它", "平均分": 8.6, "总票房": 6666}
]

```


返回：

/api/all

```js
{
  // 一、折线图
  "one": {
    "year": [
      {"年份": 2020, "数量": 666, "平均分":8.6, "票房": 6666},
      {"年份": 2020, "数量": 666, "平均分":8.6, "票房": 6666},
      {"年份": "其它", "数量": 666, "平均分":8.6, "票房": 6666}
    ],
    "month": [   
      {"月份": 2020, "数量": 666, "平均分":8.6, "票房": 6666},
      {"月份": 2020, "数量": 666, "平均分":8.6, "票房": 6666},
      {"月份": "其它", "数量": 666, "平均分":8.6, "票房": 6666}
    ]
  },




  // 二、饼图
  "two": {
    "country": [
         {"国家": "xxx", "票房": 56534},
         {"国家": "xxx", "票房": 56534},
         {"国家": "其它", "票房": 56534}
       ],
    "year": [
          {"年份": "xxx", "票房": 56534},
          {"年份": "xxx", "票房": 56534},
          {"年份": "其它", "票房": 56534}
        ],
    "type": [
          {"类型": "xxx", "票房": 56534},
          {"类型": "xxx", "票房": 56534},
          {"类型": "其它", "票房": 56534}
        ]
  },




  // 三、条形图
  "three": {
    // 按电影类型
    "type": [
        {"类别": "xx", "国内": 12467, "国外": 5438},
        {"类别": "xx", "国内": 12467, "国外": 5438},
        {"类别": "xx", "国内": 12467, "国外": 5438}
    ],
    // 按电影年份
    "year": [
        {"年份": "xx", "国内": 12467, "国外": 5438},
        {"年份": "xx", "国内": 12467, "国外": 5438},
        {"年份": "xx", "国内": 12467, "国外": 5438}
    ]
  },



  // 四、雷达图
  "four": {
    // 1. 类型+平均分
    "type": [
      {"类型": "爱情", "平均分": 8.2, "总票房": 70},
      {"类型": "爱情", "平均分": 8.2, "总票房": 60},
      {"类型": "其它", "平均分": 8.2, "总票房": 42}
    ],
    "area": [
      {"地区": "中国大陆", "平均分": 8.2, "总票房": 70},
      {"地区": "中国大陆", "平均分": 8.2, "总票房": 60},
      {"地区": "其它", "平均分": 8.2, "总票房": 42}
    ]
  }
}
```

